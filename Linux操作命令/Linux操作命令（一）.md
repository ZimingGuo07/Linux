# 常用的文件、目录操作命令
### 1、`pwd`查看用户当前目录

```powershell
g@g-virtual-machine:~$ whoami#确定当前登录的账户
g
g@g-virtual-machine:~$ pwd
/home/g
```
### 2、`cd`切换工作目录
```powershell
#使用方法
g@g-virtual-machine:~$ cd 相对路径或绝对路径

g@g-virtual-machine:~$ cd /usr/share
g@g-virtual-machine:/usr/share$ pwd
/usr/share

g@g-virtual-machine:/usr/share$ cd ~ #切换到主目录

g@g-virtual-machine:~$ cd ~用户名 #切换到指定用户的主目录

g@g-virtual-machine:~$ cd - #切换到上次所在目录

g@g-virtual-machine:~$ cd .#切换到当前目录

g@g-virtual-machine:~$ cd ..#切换到上一级目录
```
### 3、绝对路径和相对路径  
Linux 系统中所有的文件（目录）都被组织成以根目录“/”开始的倒置的树状结构。  
绝对路径一定是由根目录“/”开始写起，描述到文件位置的完整说明。  
相对路径不是从根目录 / 开始写起，而是从当前所在的工作目录开始写起。常用到“.”和“..”。  
```powershell
#绝对路径
g@g-virtual-machine:/usr$ cd /usr/share
#相对路径
g@g-virtual-machine:/usr$ cd ./share
```
### 4、`ls`查看目录文件
```powershell
ls 选项 目录名称

#常用选项
-a   #显示全部的文件，包括隐藏文件（开头为 . 的文件）也一起罗列出来，这是最常用的选项之一。  
-A   #显示全部的文件，连同隐藏文件，但不包括 . 与 .. 这两个目录。
-h   #以人们易读的方式显示文件或目录大小，如 1KB、234MB、2GB 等。
-S   #以文件容量大小排序，而不是以文件名排序。
-t   #以时间排序，而不是以文件名排序。
```
### 5、`mkdir`当前目录下创建一个空目录
```powershell
mkdir 选项 目录名

-m #用于手动配置所创建目录的权限，而不再使用默认权限。
-p #选项递归创建所有目录，以创建 /home/test/demo 为例，在默认情况下，你需要一层一层的创建各个目录，而使用 -p 选项，则系统会自动帮你创建 /home、/home/test 以及 /home/test/demo。
```
### 6、`rmdir`删除空目录
```powershell
rmdir -p 目录名

-p #用于递归删除空目录。
```
### 7、`touch`创建文件及修改文件时间戳
```powershell
Linux touch命令用于修改文件或者目录的时间属性，包括存取时间和更改时间。若文件不存在，系统会建立一个新的文件。
ls -l 可以显示文件的时间记录。

touch 选项 文件名

a #改变文件的读取时间记录。
c #假如目的文件不存在，不会建立新的档案。与 --no-create 的效果一样。
d #设定时间与日期，可以使用各种不同的格式。
m #改变文件的修改时间记录。
t #设定文件的时间记录，格式与date指令相同。
```
### 8、`cp`复制文件和目录
```powershell
cp 选项 源文件 目标文件

-a #相当于 -d、-p、-r 选项的集合，这几个选项我们一一介绍；
-d #如果源文件为软链接（对硬链接无效），则复制出的目标文件也为软链接；
-i #询问，如果目标文件已经存在，则会询问是否覆盖；
-l #把目标文件建立为源文件的硬链接文件，而不是复制源文件；
-s #把目标文件建立为源文件的软链接文件，而不是复制源文件；
-p #复制后目标文件保留源文件的属性（包括所有者、所属组、权限和时间）；
-r #递归复制，用于复制目录；
-u #若目标文件比源文件有差异，则使用该选项可以更新目标文件，此选项可用于对文件的升级和备用。

这里的软链接，类似于 Windows 系统中的快捷方式，而硬链接则是透过文件系统的 inode 号产生一个新的文件名。无论是复制软链接还是硬链接，都不是复制源文件。
```
### 9、`mv`移动或重命名文件和目录
```powershell
mv 选项 源文件 目标文件

-f #不询问，强制覆盖
-i #如果目标文件存在，则询问是否覆盖（默认选项）
-n #如果目标文件存在，则不会覆盖，也不会询问用户
-v #显示文件或者目录移动的过程
```
### 10、`rm`删除文件或者目录
```powershell
rm 选项 文件或者目录

-f #直接删除文件或者目录
-i #删除前询问是否删除
-r #删除目录及其包含的所有内容
```
### 11、`ln`建立软硬链接文件
```powershell
软链接：类似于Windows系统中给文件创建快捷方式，即产生一个特殊的文件，该文件用来指向另一个文件，此链接方式同样适用于目录。
硬链接：文件的基本信息都存储在inode中，而硬链接指的就是给一个文件的inode分配多个文件名，通过任何一个文件名，都可以找到此文件的inode，从而读取该文件的数据信息。

ln 选项 源文件 目标文件

-s #建立软链接文件。如果不加该选项，则建立硬链接文件；
-f #强制。如果目标文件已经存在，则删除目标文件后再建立链接文件；

软链接文件的源文件必须写成绝对路径，而不能写成相对路径（硬链接没有这样的要求）
```
### 12、`find`在指定目录下查找文件
```powershell
find   path  -option  [ -print ]  [ -exec   -ok   |xargs  |grep  ] [  command  {} \;  ]

#path
~ 表示主目录
. 表示当前目录
/ 表示根目录

#option
-name   filename               #查找名为filename的文件
在当前目录及子目录中，查找大写字母开头的txt文件   find . -name '[A-Z]*.txt' -print 

-perm                                #按执行权限来查找
-user    username             #按文件属主来查找
-group groupname            #按组来查找
-mtime   -n +n                   #按文件更改时间来查找文件，-n指n天以内，+n指n天以前
-atime    -n +n                   #按文件访问时间来查找文件，-n指n天以内，+n指n天以前
-ctime    -n +n                  #按文件创建时间来查找文件，-n指n天以内，+n指n天以前
-nogroup                          #查无有效属组的文件，即文件的属组在/etc/groups中不存在
-nouser                            #查无有效属主的文件，即文件的属主在/etc/passwd中不存
-type    b/d/c/p/l/f             #查是块设备、目录、字符设备、管道、符号链接、普通文件
-size      n[c]                    #查长度为n块[或n字节]的文件
-mount                            #查文件时不跨越文件系统mount点
-follow                            #如果遇到符号链接文件，就跟踪链接所指的文件
-prune                            #忽略某个目录

#print
print #表示将结果输出到标准输出。
```
### 13、`file`查看文件类型
```powershell
file [-bcLvz][-f <名称文件>][-m <魔法数字文件>...][文件或目录...]

-b #列出辨识结果时，不显示文件名称。
-c #详细显示指令执行过程，便于排错或分析程序执行的情形。
-f<名称文件> #指定名称文件，其内容有一个或多个文件名称时，让file依序辨识这些文件，格式为每列一个文件名称。
-L #直接显示符号连接所指向的文件的类别。
-m<魔法数字文件> #指定魔法数字文件。
-v #显示版本信息。
-z #尝试去解读压缩文件的内容。
[文件或目录...] #要确定类型的文件列表，多个文件之间使用空格分开，可以使用shell通配符匹配多个文件。
```
### 13、`stat`查看文件的详细信息
```powershell
stat 以文字的格式来显示 inode 的内容。
stat 文件名

inode 包含文件的元信息，具体来说有以下内容：
文件的字节数
文件拥有者的 User ID
文件的 Group ID
文件的读、写、执行权限
文件的时间戳，共有三个：ctime 指 inode 上一次变动的时间，mtime 指文件内容上一次变动的时间，atime 指文件上一次打开的时间。
链接数，即有多少文件名指向这个 inode
文件数据 block 的位置


stat 选项 文件名

#选项
-f #不显示文件本身的信息，显示文件所在文件系统的信息
-L #显示符号链接
-C #文件权限
-t #简洁模式，只显示摘要信息
```
### 14、`cat`查看文本文件内容
```powershell
基本用法：
1.一次显示整个文件。
cat filename
2.从键盘创建一个文件。
cat > filename
只能创建新文件,不能编辑已有文件.
3.将几个文件合并为一个文件。
cat file1 file2 > file

cat [-AbeEnstTuv] [--help] [--version] fileName

-n 或 --number：由 1 开始对所有输出的行数编号。
-b 或 --number-nonblank：和 -n 相似，只不过对于空白行不编号。
-s 或 --squeeze-blank：当遇到有连续两行以上的空白行，就代换为一行的空白行。
-v 或 --show-nonprinting：使用 ^ 和 M- 符号，除了 LFD 和 TAB 之外。
-E 或 --show-ends : 在每行结束处显示 $。
-T 或 --show-tabs: 将 TAB 字符显示为 ^I。
-A 或 --show-all：等价于 -vET。
```
### 15、`more`可以分页查看文本文件内容
```powershell
一般文件过大时使用 more 浏览，文件较小时使用 cat。

more [-options] Filename [...]

more 命令一次显示一屏文本，满屏后停下来，并且在屏幕的底部出现一个提示信息，给出至今己显示的该文件的百分比。可用交互式命令交互：
（1）回车键向下滚动一行；
（2）空格键（Space）显示下一页；
（3）b 键（back）回显上一页；
（4）斜杠 / 后跟待搜索的正则表达式进行查找；
（5）h 或 ? 键显示帮助信息；
（6）q 或 Q 键退出。

#options
NUM #指定每屏显示的行数为 NUM
d #在屏幕下方给用户显示提示信息"[Press space to continue, 'q' to quit.]"。当用户按下其非法按键时，显示"[Press 'h' for instructions.]"，而不是告警声音
l #抑制特殊字符换页符（Form Feed）造成的暂停
f #计算行数时，以实际上的行数，而非自动换行过后的行数（有些单行字数太长的会被扩展为两行或两行以上）
p #不以滚动的方式显示每一页，而是先清除屏幕后再显示内容
c #与 -p 相似，不同的是先显示内容再清除其他旧的内容
s #将多个空行压缩成一行显示
u #不显示文本底部的下划线
+/STRING #从匹配搜索字符串 STRING 所在行的前两行开始显示
+NUM #从文件第 NUM 行开始显示
--help #显示帮助信息并退出
V, --version #显示版本信息并退出
```
### 16、`less`浏览文件内容
```powershell
less和more类似,但是使用less可以随意浏览文件,而more仅能向前移动,却不能向后移动,more启动时会加载整个文件。而且less在查看之前不会加载整个文件。

less -选项 文件名

-N #显示每行的行号。
-S #行过长时将超出部分舍弃。
-e #当文件显示结束后，自动离开。
-g #只标志最后搜索到的关键同。
-Q #不使用警告音。
-i #忽略搜索时的大小写。
-m #显示类似 more 命令的百分比。
-f #强迫打开特殊文件，比如外围设备代号、目录和二进制文件。
-s #显示连续空行为一行。

可以使用交互式命令进行交互：
/字符串 #向下搜索“字符串”
?字符串 #向上搜索“字符串”
h 或 H #显示帮助界面。
q 或 Q #退出 less 命令。
y #向上移动一行。
空格键 #向下移动一页。
【PgDn】键 #向下移动一页。
【PgUp】键 #向上移动一页。
```
### 17、`tail`查看文件尾部内容
```powershell
tail 参数 文件
tail 文件 #直接显示文件后十行

-n K	 #这里的K指的是行数，该选项表示输出最后K行，在此基础上，如果使用 -n +K，则表示从文件的第K行开始输出。
-c K  #这里的K指的是字节数，该选项表示输出文件最后K个字节的内容，在此基础上，使用 -c +K 则表示从文件第K个字节开始输出。
-f  #输出文件变化后新增加的数据。
```
### 18、`head`查看文件头部内容
```powershell
head 参数 文件
head 文件 #直接显示文件开头前十行

-n K  #这里的K表示行数，该选项用来显示文件前K行的内容；如果使用"-K"作为参数，则表示除了文件最后K行外，显示剩余的全部内容。
-c K  #这里的K表示字节数，该选项用来显示文件前K个字节的内容；如果使用"-K"，则表示除了文件最后K字节的内容，显示剩余全部内容。
-v  #还显示文件名；
```
### 19、`echo`显示消息或输出其他命令的结果
```powershell
echo 选项 信息

-n #最后不会自动换行
-e #解释反斜杠转义字符

使用>、>>运算符将输出重定向到文件，而不是在屏幕上显示输出。
echo "hello,linux" >> file.txt
如果file.txt不存在，将创建它。使用>时，文件将被覆盖。使用>>时，会将输出附加到文件中。
```
### 20、`|`管道命令
```powershell
Linux管道命令是“|”，其作用是用来连接多条指令，前一条指令的输出流会作为后一条指令的操作对象，其命令格式为“指令1 | 指令2 | …”，管道命令必须能够接受来自前一个命令的数据成为standard input继续处理。

cut #将一段信息的某一段切出来，处理的信息是以行为单位。
cut -d '分割字符' -f fields
#选项
cut -c 字符范围
-d 后面接分隔符，与-f一起使用
-f 依据-d的分隔符将一段信息切割成为数段，用-f取出第几段的意思
-c 以字符的单位取出固定字符区间

grep #分析一行信息，如果有匹配的，就将该行拿出来。
grep [-acinv] [--color=auto] '查找字符串' filename
#选项
-a 将binary文件以text文件的方式查找数据
-c 计算找到’查找字符串‘的次数
-i 忽略大小写的不同
-n 带行号
-v 反向选择，显示没有‘查找字符串’的行
--color=auto 可以将找到查找的关键字部分加上颜色显示

sort #可以依据不同的数据类型进行排序。
sort [-fbMnrtuk] [file or stdin]
#选项
-f 忽略大小写
-b 忽略最前面的空格符
-M 以月份的名字来排序，如 JAN, DEC等
-n 使用“数字”进行排序（默认是以文字类型来排序的）
-r 反向排序
-u uniq，相同的数据，仅出现一行代表
-t 分隔符，默认是［Tab]来分割

uniq #重复的行只显示一个
uniq [-ic]
#选项
-i 忽略大小写
-c 进行计数

wc #输出信息的整体数据
wc [-lwm]
#选项
-l 仅列出行
-w 仅列出多少字(英文单字)
-m 多少字符

tee #双重定向，存到文件或者设备的同时，输出到屏幕以便继续处理。
tee [-a] file
#选项
-a 以累加(append)的方式，输出到file中

tr #删除一段信息中的文字，或者进行文字信息的转换。
tr [-ds] XXX ...
last | tr '[a-z]' '[A-Z]' #将last输出的信息中所有的小写字母变成大写字母
#选项
-d 删除信息中XXX这个字符串
-s 替换掉重复的字符

col #对特殊字符进行处理
col [-xb]
#选项
-x 将tab键转换成对等的空格键
-b 在文字内有反斜杠(/)时，仅保留反斜杠最后接的那个字符

expand 将[tab]按键转成空格键
expand [-t] file
#选项
-t 后面可以接数字，代表一个tab用几个空格表示
```